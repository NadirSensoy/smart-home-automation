2025-05-27 22:37:03,059 - AkilliEvOtomasyonu - INFO - Akilli Ev Otomasyon Sistemi baslatiliyor
2025-05-27 22:37:03,068 - AkilliEvOtomasyonu - INFO - Model eğitimi başlatılıyor
2025-05-27 22:37:03,070 - ModelEgitimi - INFO - ML modelleri eğitiliyor: C:\Users\ndr20\Desktop\b.tasarım\smart-home-automation\data\raw\training_data_20250527_2235.csv
2025-05-27 22:37:04,063 - ErrorHandler - ERROR - Beklenmeyen hata: could not convert string to float: 'Salon' in train_models
2025-05-27 22:37:04,083 - ErrorHandler - ERROR - Traceback (most recent call last):
  File "C:\Users\ndr20\Desktop\b.tasarım\smart-home-automation\src\models\model_trainer.py", line 180, in train
    pipeline = self.create_pipeline(X_train)
               ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DeviceControlModel' object has no attribute 'create_pipeline'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ndr20\Desktop\b.tasarım\smart-home-automation\src\utils\error_handling.py", line 65, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\ndr20\Desktop\b.tasarım\smart-home-automation\app.py", line 112, in train_models
    model_manager.train_models_for_all_devices(data_path, model_type='random_forest', optimize=optimize)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ndr20\Desktop\b.tasarım\smart-home-automation\src\models\model_manager.py", line 55, in train_models_for_all_devices
    model.train(X_train, y_train_dict[device_name], optimize=optimize)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ndr20\Desktop\b.tasarım\smart-home-automation\src\models\model_trainer.py", line 212, in train
    self.model.fit(X_train, y_train)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\sklearn\base.py", line 1389, in wrapper
    return fit_method(estimator, *args, **kwargs)
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\sklearn\ensemble\_forest.py", line 360, in fit
    X, y = validate_data(
           ~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<5 lines>...
        ensure_all_finite=False,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\sklearn\utils\validation.py", line 2961, in validate_data
    X, y = check_X_y(X, y, **check_params)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\sklearn\utils\validation.py", line 1370, in check_X_y
    X = check_array(
        X,
    ...<12 lines>...
        input_name="X",
    )
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\sklearn\utils\validation.py", line 973, in check_array
    array = array.astype(new_dtype)
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\pandas\core\generic.py", line 6643, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\pandas\core\internals\managers.py", line 430, in astype
    return self.apply(
           ~~~~~~~~~~^
        "astype",
        ^^^^^^^^^
    ...<3 lines>...
        using_cow=using_copy_on_write(),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\pandas\core\internals\managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\pandas\core\internals\blocks.py", line 758, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\pandas\core\dtypes\astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\pandas\core\dtypes\astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\pandas\core\dtypes\astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'Salon'

2025-05-27 22:37:04,099 - AkilliEvOtomasyonu - ERROR - Uygulama hatası: Beklenmeyen hata: could not convert string to float: 'Salon'
