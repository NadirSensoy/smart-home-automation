2025-05-27 22:35:11,056 - AkilliEvOtomasyonu - INFO - Akilli Ev Otomasyon Sistemi baslatiliyor
2025-05-27 22:35:11,059 - Simülasyon - INFO - Simülasyon başlatılıyor: demo modu
2025-05-27 22:35:11,061 - RulesEngine - INFO - Kural motoru başlatıldı
2025-05-27 22:35:11,101 - SmartHomeSimulator - INFO - Simülasyon başlatıldı
2025-05-27 22:35:11,101 - SmartHomeSimulator - INFO - ML modeli bulunamadı, eğitiliyor...
2025-05-27 22:35:11,102 - SmartHomeSimulator - INFO - Makine öğrenmesi modeli için 3 günlük veri üretiliyor
2025-05-27 22:35:12,486 - ErrorHandler - ERROR - Beklenmeyen hata: could not convert string to float: 'Salon' in run_simulation
2025-05-27 22:35:12,543 - ErrorHandler - ERROR - Traceback (most recent call last):
  File "C:\Users\ndr20\Desktop\b.tasarım\smart-home-automation\src\models\model_trainer.py", line 180, in train
    pipeline = self.create_pipeline(X_train)
               ^^^^^^^^^^^^^^^^^^^^
AttributeError: 'DeviceControlModel' object has no attribute 'create_pipeline'

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "C:\Users\ndr20\Desktop\b.tasarım\smart-home-automation\src\utils\error_handling.py", line 65, in wrapper
    return func(*args, **kwargs)
  File "C:\Users\ndr20\Desktop\b.tasarım\smart-home-automation\app.py", line 140, in run_simulation
    simulator = run_simulation_demo(steps=steps, rooms=rooms, display=True)
  File "C:\Users\ndr20\Desktop\b.tasarım\smart-home-automation\src\simulation\home_simulator.py", line 435, in run_simulation_demo
    simulator.run_simulation(steps=steps, display=display, delay=0.5)
    ~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ndr20\Desktop\b.tasarım\smart-home-automation\src\simulation\home_simulator.py", line 304, in run_simulation
    self.train_ml_model(days=3)
    ~~~~~~~~~~~~~~~~~~~^^^^^^^^
  File "C:\Users\ndr20\Desktop\b.tasarım\smart-home-automation\src\simulation\home_simulator.py", line 126, in train_ml_model
    self.ml_model_manager.train_models_for_all_devices(csv_path, model_type='random_forest', optimize=True)
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ndr20\Desktop\b.tasarım\smart-home-automation\src\models\model_manager.py", line 55, in train_models_for_all_devices
    model.train(X_train, y_train_dict[device_name], optimize=optimize)
    ~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ndr20\Desktop\b.tasarım\smart-home-automation\src\models\model_trainer.py", line 212, in train
    self.model.fit(X_train, y_train)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\sklearn\base.py", line 1389, in wrapper
    return fit_method(estimator, *args, **kwargs)
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\sklearn\ensemble\_forest.py", line 360, in fit
    X, y = validate_data(
           ~~~~~~~~~~~~~^
        self,
        ^^^^^
    ...<5 lines>...
        ensure_all_finite=False,
        ^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\sklearn\utils\validation.py", line 2961, in validate_data
    X, y = check_X_y(X, y, **check_params)
           ~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\sklearn\utils\validation.py", line 1370, in check_X_y
    X = check_array(
        X,
    ...<12 lines>...
        input_name="X",
    )
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\sklearn\utils\validation.py", line 973, in check_array
    array = array.astype(new_dtype)
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\pandas\core\generic.py", line 6643, in astype
    new_data = self._mgr.astype(dtype=dtype, copy=copy, errors=errors)
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\pandas\core\internals\managers.py", line 430, in astype
    return self.apply(
           ~~~~~~~~~~^
        "astype",
        ^^^^^^^^^
    ...<3 lines>...
        using_cow=using_copy_on_write(),
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\pandas\core\internals\managers.py", line 363, in apply
    applied = getattr(b, f)(**kwargs)
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\pandas\core\internals\blocks.py", line 758, in astype
    new_values = astype_array_safe(values, dtype, copy=copy, errors=errors)
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\pandas\core\dtypes\astype.py", line 237, in astype_array_safe
    new_values = astype_array(values, dtype, copy=copy)
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\pandas\core\dtypes\astype.py", line 182, in astype_array
    values = _astype_nansafe(values, dtype, copy=copy)
  File "C:\Users\ndr20\AppData\Roaming\Python\Python313\site-packages\pandas\core\dtypes\astype.py", line 133, in _astype_nansafe
    return arr.astype(dtype, copy=True)
           ~~~~~~~~~~^^^^^^^^^^^^^^^^^^
ValueError: could not convert string to float: 'Salon'

2025-05-27 22:35:12,546 - AkilliEvOtomasyonu - ERROR - Uygulama hatası: Beklenmeyen hata: could not convert string to float: 'Salon'
